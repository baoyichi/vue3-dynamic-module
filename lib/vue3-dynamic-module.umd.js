(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Vue3DynamicModule={},r.vue))})(this,function(r,e){"use strict";const f={class:"container"},_={key:1},b={class:"pagination"},m=e.defineComponent({__name:"dynamic-table",props:{tableItems:{type:Object,require:!0,default:()=>({})},pagination:{type:Object,require:!0,default:()=>({})}},emits:["dataChange"],setup(c,{emit:i}){const p=c,l=e.reactive({datas:[],headers:[{label:"名称",value:"name",width:"120",show:!0,showOverflow:!0,showFixed:!0}],operations:[]}),a=e.reactive({currentPage:1,pageSize:10,total:0});e.watch(()=>p.tableItems,o=>{o&&h()},{deep:!0}),e.onMounted(()=>{h()});const y=o=>{const{currentPage:n,pageSize:s}=a;return o+1+(n-1)*s},C=o=>{i("dataChange",{type:"pagination",value:o})},h=()=>{const{header:o,tableData:n,tableOperations:s}=p.tableItems;l.headers=o,l.datas=n,l.operations=s;const{currentPage:d,pageSize:g}=p.pagination;a.currentPage=d,a.pageSize=g,a.total=n.length},x=o=>{i("dataChange",{type:o,value:""})};return(o,n)=>{const s=e.resolveComponent("el-table-column"),d=e.resolveComponent("el-button"),g=e.resolveComponent("el-table"),B=e.resolveComponent("el-pagination");return e.openBlock(),e.createElementBlock("div",f,[e.createVNode(g,{data:l.datas,stripe:"",style:{width:"100%"}},{default:e.withCtx(()=>[e.createVNode(s,{type:"index",width:"70",label:"序号",fixed:"",index:y}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.headers,(t,S)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:S},[t.show?(e.openBlock(),e.createBlock(s,{key:0,prop:t.value,label:t.label,width:t.width,"show-overflow-tooltip":t.showOverflow,fixed:t.showFixed},{default:e.withCtx(z=>[t.value==="control"?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(l.operations,(u,P)=>(e.openBlock(),e.createElementBlock("span",{key:P},[e.createVNode(d,{link:"",type:"primary",size:"small",onClick:V=>x(u.type)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(u.label),1)]),_:2},1032,["onClick"])]))),128)):(e.openBlock(),e.createElementBlock("span",_,e.toDisplayString(z.row[`${t.value}`]),1))]),_:2},1032,["prop","label","width","show-overflow-tooltip","fixed"])):e.createCommentVNode("",!0)],64))),128))]),_:1},8,["data"]),e.createElementVNode("div",b,[e.createVNode(B,{"current-page":a.currentPage,"onUpdate:currentPage":n[0]||(n[0]=t=>a.currentPage=t),"page-size":a.pageSize,"onUpdate:pageSize":n[1]||(n[1]=t=>a.pageSize=t),small:!0,background:!0,layout:"total, prev, pager, next, jumper",total:a.total,onCurrentChange:C},null,8,["current-page","page-size","total"])])])}}}),k=[m],w={install:c=>{k.forEach(i=>{c.component(i.__name,i)})}};r.DynamicTable=m,r.default=w,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
